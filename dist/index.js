!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["easy-page"]=e():t["easy-page"]=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * ES6 Proxy Polyfill
 * @version 2.0.1
 * @author Ambit Tsai <ambit_tsai@qq.com>
 * @license Apache-2.0
 * @see {@link https://github.com/ambit-tsai/es6-proxy-polyfill}
 * 用来兼容IE9
 */!function(t,r){window.Proxy||("object"===n(e)&&e.exports?(t.Proxy=r(t),e.exports=r(t)):t.Proxy||(t.Proxy=r(t)))}("object"===("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis||"object"===("undefined"==typeof window?"undefined":n(window))&&window||"object"===(void 0===t?"undefined":n(t))&&t||"object"===("undefined"==typeof self?"undefined":n(self))&&self||this,(function(t){var e="[[ProxyTarget]]",r="[[Get]]",o="[[Set]]",i="[[Call]]",a=t.Object,c=a.defineProperty,u=a.defineProperties,s=a.getPrototypeOf,f=a.getOwnPropertyDescriptor,l=!!u&&/\[native code\]/.test(u.toString());function p(t,e){if(this instanceof p)return v(t,e).proxy;d("Constructor Proxy requires 'new'")}function v(t,n){b(t)&&b(n)||d("Cannot create proxy with a non-object as target or handler");var a=new y(t,n);return{proxy:"function"==typeof t?function(t){var n=t[e];function r(){return this instanceof r?t["[[Construct]]"](arguments,r):t[i](this,arguments)}if(r.prototype=n.prototype,l){var o=j(t),a=$(s(n),o);for(var c in w(r,a),o=x(n,t))m(r,c)&&delete o[c];u(r,o)}else O(r,n);return r}(a):t instanceof Array?function(t){var n,i,a=t[e];return l&&((n=j(t)).concat.get=function(){var e=t[r]("concat",this);return e===Array.prototype.concat?e.bind(a):e},i=$(s(a),n)),(n=x(a,t)).length.set=function(n){var r=n-a.length;t[o]("length",n,this),r&&function(t,n,r){var o=r[e];if(t>0)for(var i=o.length,a=i-t;a<i;++a){var u=f(n,a);u?c(o,a,u):o[a]=void 0,u=P(o,a,r),c(n,a,u)}else for(var s=(a=o.length)-t;a<s;++a)delete n[a]}(r,this,t)},$(i,n)}(a):function(t){var n,r,o=t[e];return l&&(n=j(t),r=$(s(o),n)),n=x(o,t),$(r,n)}(a),revoke:function(){a[e]=void 0,a["[[ProxyHandler]]"]=void 0}}}function y(t,n){this[e]=t,this["[[ProxyHandler]]"]=n}function h(t,e){t||d("Cannot perform '"+e+"' on a proxy that has been revoked")}function d(t){throw new TypeError(t)}function b(t){return!!t&&("object"===n(t)||"function"==typeof t)}function m(t,e){return a.prototype.hasOwnProperty.call(t,e)}p.revocable=function(t,e){return this instanceof p.revocable&&d("Proxy.revocable is not a constructor"),v(t,e)},y.prototype[r]=function(t,n){var r=this["[[ProxyHandler]]"];return h(r,"get"),null==r.get?this[e][t]:"function"==typeof r.get?r.get(this[e],t,n):void d("Trap 'get' is not a function: "+r.get)},y.prototype[o]=function(t,n,r){var o=this["[[ProxyHandler]]"];h(o,"set"),null==o.set?this[e][t]=n:"function"==typeof o.set?o.set(this[e],t,n,r)||d("Trap 'set' returned false for property '"+t+"'"):d("Trap 'set' is not a function: "+o.set)},y.prototype[i]=function(t,n){var r=this["[[ProxyHandler]]"];return h(r,"apply"),null==r.apply?this[e].apply(t,n):"function"==typeof r.apply?r.apply(this[e],t,n):void d("Trap 'apply' is not a function: "+r.apply)},y.prototype["[[Construct]]"]=function(t,n){var r,o=this["[[ProxyHandler]]"];if(h(o,"construct"),null==o.construct?r=function(t,e){for(var n=[],r=0,o=e.length;r<o;++r)n.push("args["+r+"]");return new Function("Ctor","args","return new Ctor("+n.join(", ")+")")(t,e)}(this[e],t):"function"==typeof o.construct?r=o.construct(this[e],t,n):d("Trap 'construct' is not a function: "+o.construct),b(r))return r;d("Trap 'construct' returned non-object: "+r)};var g=a.getOwnPropertyNames||function(t){var e=[];for(var n in t)m(t,n)&&e.push(n);return e},w=a.setPrototypeOf||function(t,e){return t.__proto__=e,t},$=l?a.create:function(t,e){return u({},e)},O=a.assign||function(t,e){for(var n in e)m(e,n)&&(t[n]=e[n]);return t};function j(t){for(var n={},r=t[e];r=s(r);){var o=x(r,t);O(n,o)}return n}function x(t,e){for(var n=g(t),r={},o=n.length-1;o>=0;--o)r[n[o]]=P(t,n[o],e);return r}function P(t,e,n){var i=f(t,e);return{get:function(){return n[r](e,this)},set:function(t){n[o](e,t,this)},enumerable:i.enumerable,configurable:i.configurable}}return p}))}).call(this,n(1),n(2)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);var r={};function o(t){var e=t.$el,n=t.exposeName,r=t.template;return function(t){if(e&&(t.prototype.$el=$(e)),r&&(t.prototype.$el=$(r)),n){if(window[n])throw new Error("window.".concat(n," 已经定义了，不能重复定义"));window[n]=t}return t}}function i(t,e,n){t.$exposeList||(t.$exposeList=[]),t.$exposeList.push(e)}function a(t,e,n,r){if(!e)throw new Error("event 参数为必填");if(!t)throw new Error("selector 参数为必填");return function(o,i,a){o.$eventList||(o.$eventList=[]),o.$eventList.push({selector:t,event:e,childSelector:n,data:r,fn:o[i]})}}function c(t){return function(e,n,r){var o=r.value;if("function"!=typeof o)throw new Error("$on 必须绑定 Function 类型");if(!t)throw new Error("事件名为必填");e.$onList||(e.$onList=[]),e.$onList.push({fn:o,event:t})}}function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return function(n,r,o){var i=o.value;"function"==typeof i&&(o.value=function(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];t&&clearTimeout(t),t=setTimeout((function(){i.apply(n,o)}),e)})}}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,e=new Date;return function(n,r,o){var i=o.value;"function"==typeof i&&(o.value=function(){var n=new Date;if(n-e>t){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];i.apply(this,o),e=new Date}})}}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){return e="with (sandbox) { var __itemInfo={}; ".concat(e," }"),new Function("sandbox",e)(t)}function v(t,e,n){var r=n.split(".")[0],o="";return-1!==n.indexOf(".")&&(o=n.split(".").slice(1).map((function(t){return"['".concat(t,"']")})).join("")),p(t,"".concat(e,";\n  if (!__itemInfo['").concat(r,"']) {\n    return '").concat(n,"';\n  } else {\n    return __itemInfo['").concat(r,"'] + ").concat(JSON.stringify(o),"\n  }\n  "))}function y(t,e){var n=t.getAttribute("v-data");return n?"".concat(n):""}function h(t){return t instanceof Array?"Array":Object.prototype.toString.call(t).slice(8,-1)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var n=h(t);if(-1!==["Object","Array"].indexOf(n)){var r="Array"===n?Object.create(Array.prototype):Object.create(Object.prototype);r._parentKey=e,m(t,r),b(t,e)}}else b(t,e)}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var n in t)if(t.hasOwnProperty(n)){var r=h(t[n]);if(-1!==["Object","Array"].indexOf(r)){var o=e?"".concat(e,".").concat(n):n,i="Array"===r?Object.create(Array.prototype):Object.create(Object.prototype);i._parentKey=o,m(t[n],i),d(t[n],o)}}}n.r(r),n.d(r,"$init",(function(){return o})),n.d(r,"$expose",(function(){return i})),n.d(r,"$event",(function(){return a})),n.d(r,"$on",(function(){return c})),n.d(r,"$debounce",(function(){return u})),n.d(r,"$throttle",(function(){return s}));var m=Object.setPrototypeOf||function(t,e){if(navigator.appVersion.indexOf("MSIE 9")>0)for(var n in e)t[n]=e[n];else t.__proto__=e;return t};function g(t){return"Array"===h(t)?[]:"Object"===h(t)?{}:t}function w(t){var e=[],n=g(t);for(n!==t&&e.push([t,n]);e.length;){var r=f(e.pop(),2),o=r[0],i=r[1];for(var a in o)o.hasOwnProperty(a)&&(i[a]=g(o[a]),i[a]!==o[a]&&e.push([o[a],i[a]]))}return n}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance||(this.events={},t.instance=this),t.instance}var e,n;return e=t,(n=[{key:"subscribe",value:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}},{key:"publish",value:function(){var t=Array.prototype.shift.call(arguments),e=this.events[t];if(t&&e&&0!==e.length)for(var n=0,r=e.length;n<r;n++){var o=e[n];o.apply(this,arguments)}}},{key:"remove",value:function(t,e){var n=this.events[t];if(n){e||(this.events[t]=[]);for(var r=0,o=n.length;r<o;r++)n[r]===e&&n.splice(r,1)}}}])&&O(e.prototype,n),t}();function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var A=new j;function S(t){var e=t.instance,n=[],r=[],o=[],i=[];e.$el.find("[v-text], [v-array], [v-data], [v-model]").each((function(t,e){e.getAttribute("v-text")&&n.push(e),e.getAttribute("v-array")&&r.push(e),e.getAttribute("v-data")&&o.push(e),e.getAttribute("v-model")&&i.push(e)})),$(r).each((function(t,n){var r=n.getAttribute("v-array");e[r].push({})})),$(o).each((function(t,n){var r=y(n);p(e," ".concat(r," "))})),$(n).each((function(t,n){var r=n.getAttribute("v-text");n.hasAttribute("v-no")||p(e," ".concat(r," = '").concat(n.textContent.trim(),"' "))})),$(i).each((function(t,n){var r=n.getAttribute("v-model");p(e," ".concat(r," = '").concat(n.value.trim(),"' "))}))}function k(t,e){if(e){if("Object"!==e.constructor.name)throw new Error("props 属性必须为 Object 类型");for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(!t.hasOwnProperty(o)&&"Object"===h(e[o])&&(e[o].hasOwnProperty("default")&&(t[o]=e[o].default),e[o].required&&!t.hasOwnProperty(o)))throw new Error("props.".concat(o," 是必填项"));if(null!==t[o]&&void 0!==t[o])if("Object"===h(e[o])){var i=e[o].type;if(i){var a=h(i);if("Function"!==a&&"Array"!==a)throw new Error("props.".concat(o,".type 定义类型有误，需要指定类型或者包含类型的数组"));C(t,i,o)}}else C(t,e[o],o)}}}function C(t,e,n){switch(h(e)){case"Function":if(t[n].constructor!==e)throw new Error("props.".concat(n," 必须为 ").concat(e.name," 类型"));break;case"Array":if(!e.find((function(e){return e===t[n].constructor})))throw new Error("props.".concat(n," 必须为 ").concat(e.map((function(t){return t.name})).join("|")," 类型"))}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),t}var T=function(){function t(){_(this,t),this.subs=[]}return M(t,[{key:"addSub",value:function(t){this.subs.push(t)}},{key:"notify",value:function(t){this.subs.forEach((function(e){e.update(t)}))}}]),t}(),N=function(){function t(){_(this,t)}return M(t,[{key:"update",value:function(){throw new Error("update 方法需要被重写！")}}]),t}();function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var L=!0;window.Proxy||(L=!1,n(0));var K=new j,H=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subjectMap={},this.templateMap={},this.children=new T,this.isNativeProxy=L,this.name="ProxyCenter"+(new Date).getTime()}var e,n;return e=t,(n=[{key:"notifyAll",value:function(t,e,n,r){var o=this,i=r||!r&&-1!==e.indexOf("length");this.subjectMap[e]&&this.subjectMap[e].notify(n),K.publish("#updateClass"),K.publish("#updateProp"),K.publish("#updateShow"),this.isNativeProxy?(t instanceof Array&&i&&(r?this.templateMap[t._parentKey]&&this.templateMap[t._parentKey].notify({length:n.length,isReset:!0}):this.templateMap[t._parentKey]&&this.templateMap[t._parentKey].notify({length:n,isReset:!0})),r?this.children.notify({key:e,value:n,target:t}):this.children.notify({key:e,value:n})):t instanceof Array&&i?new Promise((function(t){return t()})).then((function(){o.children.notify({key:e,value:n,target:t}),r?o.templateMap[t._parentKey]&&o.templateMap[t._parentKey].notify({length:n.length,isReset:!0}):o.templateMap[t._parentKey]&&o.templateMap[t._parentKey].notify({length:n,isReset:!0})})):this.children.notify({key:e,value:n})}},{key:"initProxyData",value:function(t){var e=this,n=t.instance,r=t.$data,o={get:function(t,e,n){return"object"===D(t[e])&&null!==t[e]?new Proxy(t[e],o):t[e]},set:function(t,n,r,o){var i="".concat(t._parentKey,".").concat(n);return-1===["Object","Array"].indexOf(h(r))||r._parentKey||d(r,i),t[n]=r,e.notifyAll(t,i,r,!1),!0}},i=new Proxy(r,o),a=function(t){Object.defineProperty(n,t,{get:function(){return i[t]},set:function(n){r[t]=n,-1!==["Object","Array"].indexOf(h(r[t]))&&d(r[t],t),e.notifyAll(r[t],t,r[t],!0)},configurable:!0,enumerable:!0})};for(var c in i)a(c)}},{key:"addObserver",value:function(t,e,n){if(e=e.replace(/\[(.*?)\]/g,".$1").replace(/'/g,""),t.hasOwnProperty(e.split(".")[0])){var r=new N;r.update=n,this.subjectMap[e]||(this.subjectMap[e]=new T),this.subjectMap[e].addSub(r)}}},{key:"addArrayObserver",value:function(t,e){var n=new N;n.update=e,this.templateMap[t]||(this.templateMap[t]=new T),this.templateMap[t].addSub(n)}},{key:"addChildenObserver",value:function(t){var e=new N;e.update=t,this.children.addSub(e)}}])&&I(e.prototype,n),t}();function R(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var J=new j,W=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.isAssign,o=void 0!==r&&r,i=n.prop,a=void 0===i?{}:i;U(this,t);var c=Object.getPrototypeOf(this);c.$prop={},c.$data={},c.$parent=null,c.$children={},c.$attrs=["v-text","v-on","v-array","v-class","v-model","v-data","v-show","v-for","v-attr"],c.$proxyCenter=new H,c.$propMap={},this.init$propMap(a),this.init$prop(a),k(this.$prop,this.constructor.propTypes),new Promise((function(t){return t()})).then((function(){o&&S({instance:e}),e._init({isCompile:!o}),e.inited&&e.inited()}))}var e,n;return e=t,(n=[{key:"_init",value:function(t){var e=t.isCompile;this.init$Data(),this.$proxyCenter.initProxyData({instance:this,$data:this.$prop}),this.$proxyCenter.initProxyData({instance:this,$data:this.$data}),this._initDirective({$el:this.$el,isCompile:e}),this.init$Expose(),this.init$event(),this.init$on()}},{key:"_initDirective",value:function(t){var e,n,r=t.$el,o=void 0===r?this.$el:r,i=t.isCompile;e={instance:this,forNode:o.find("[v-for]"),isCompile:i},n=e.instance,e.isCompile&&$(e.forNode).each((function(t,e){var r,o=$(e),i=e.getAttribute("v-for"),a=x(i.match(/\((.*)\)/)[1].split(",").map((function(t){return t.trim()})),2),c=a[0],u=a[1],s=i.slice(i.lastIndexOf(" ")+1),f="",l=$("\x3c!--v-for:".concat(s,"--\x3e"));l.insertBefore(o),n[s].forEach((function(t,e){var n=o.clone(),r="var ".concat(c,"=").concat(s,"[").concat(e,"], ").concat(u,"=").concat(e,", __itemInfo={").concat(c,": '").concat(s,"[").concat(e,"]', ").concat(u,": '").concat(e,"'} ");n.attr("v-data",r).find("*").attr("v-data",r),f+=n[0].outerHTML}));var p=$(f),v=p.length;r=$(p[v-1]),o.replaceWith(p),n.$proxyCenter.addArrayObserver(s,(function(t){var e=t.length;if(t.isReset){for(var i=0;i<v;i++){var a=r.prev();r.remove(),r=a}v=0}if(e<v)for(var f=0;f<v-e;f++){var p=r.prev();r.remove(),r=p}else if(e>v){0===v&&(r=l);for(var y=v;y<e;y++){var h=o.clone(),d="var ".concat(c,"=").concat(s,"[").concat(y,"], ").concat(u,"=").concat(y,", __itemInfo={").concat(c,": '").concat(s,"[").concat(y,"]', ").concat(u,": '").concat(y,"'} ");h.attr("v-data",d).find("*").attr("v-data",d),r.after(h),r=h,n._initDirective({$el:r,isCompile:!0})}}v=e}))}));var a=[],c=[],u=[],s=[],f=[],l=[],h=this.$attrs.map((function(t){return"[".concat(t,"]")})).join(",");o.find(h).andSelf().each((function(t,e){e.getAttribute("v-text")&&a.push(e),e.getAttribute("v-class")&&c.push(e),e.getAttribute("v-model")&&u.push(e),e.getAttribute("v-show")&&s.push(e),e.getAttribute("v-on")&&f.push(e),e.getAttribute("v-attr")&&l.push(e)})),function(t){var e=t.instance,n=t.textNode,r=t.isCompile;$(n).each((function(t,n){var o=x(n.getAttribute("v-text").split("|"),2),i=o[0],a=o[1],c=void 0===a?"":a;i=i.trim(),c=c.trim();var u=y(n);i=v(e,u,i);var s=function(){n.textContent=c?function(t,e,n,r){var o=/\((.*)\)/,i=n.replace(o,""),a=n.match(o)&&n.match(o)[0]||"()";return p(t,"".concat(r,"; return ").concat(i,".bind(this, ").concat(e,")").concat(a," "))}(e,i,c,u):p(e,"".concat(u,"; return ").concat(i," "))};r&&s(),e.$proxyCenter.addObserver(e,i,s)}))}({instance:this,textNode:a,isCompile:i}),function(t){var e=t.instance;$(t.attrNode).each((function(t,n){var r=n.getAttribute("v-attr"),o=y(n),i=function(){var t=p(e,"".concat(o,"; return ").concat(r));for(var i in t)$(n).attr(i)!==t[i]&&$(n).attr(i,t[i])};i(),A.subscribe("#updateProp",i)}))}({instance:this,attrNode:l,isCompile:i}),function(t){var e=t.instance;$(t.classNode).each((function(t,n){var r=n.getAttribute("v-class"),o=y(n),i=function(){var t=p(e,"".concat(o,"; return ").concat(r));for(var i in t)t[i]?$(n).addClass(i):$(n).removeClass(i)};i(),A.subscribe("#updateClass",i)}))}({instance:this,classNode:c,isCompile:i}),function(t){var e=t.instance,n=t.isCompile;$(t.modelNode).each((function(t,r){if("INPUT"===r.tagName||"TEXTAREA"===r.tagName){var o=$(r),i=r.getAttribute("v-model"),a=y(r);i=v(e,a,i);var c=function(t){r.value=p(e,"".concat(a,"; return ").concat(i," "))};n&&c(),e.$proxyCenter.addObserver(e,i,c);var u=!1;o.on("input",(function(t){u||p(e,"".concat(a,"; ").concat(i," = ").concat(JSON.stringify(t.target.value)," "))})),o.on("compositionstart",(function(t){u=!0})),$(r).on("compositionend",(function(t){u=!1;var e=document.createEvent("HTMLEvents");e.initEvent("input"),t.target.dispatchEvent(e)}))}}))}({instance:this,modelNode:u,isCompile:i}),function(t){var e=t.instance;$(t.showNode).each((function(t,n){var r=n.getAttribute("v-show"),o=y(n),i=function(){p(e,"".concat(o,"; return ").concat(r," "))?$(n).show():$(n).hide()};i(),A.subscribe("#updateShow",i)}))}({instance:this,showNode:s,isCompile:i}),function(t){var e=t.instance;$(t.eventNode).each((function(t,n){var r,o=[],i=n.getAttribute("v-on"),a=/([^)]+\))?((?=\s*,)+)/;if(a.exec(i))for(;null!==(r=a.exec(i));){if(!r[1]){i=i.replace(/^(\s*,)?/,""),o.push(i);break}i=(i=i.replace(r[1],"")).replace(/^(\s*,)?/,""),o.push(r[1])}else o.push(i);for(var c=function(){var t=x(s[u].split("="),2),r=t[0],o=t[1];r=r.trim(),o=o.trim();var i=n.getAttribute("v-data");$(n).on(r,null,null,(function(t){p(e,"".concat(i,"; ").concat(o))}))},u=0,s=o;u<s.length;u++)c()}))}({instance:this,eventNode:f}),function(t,e){var n=e.map((function(t){return"[".concat(t,"]")})).join(",");t.find(n).andSelf().each((function(t,n){$(n).removeAttr(e.join(" "))}))}(o,this.$attrs)}},{key:"init$prop",value:function(t){if("Object"!==h(t))throw new Error("prop 必须为对象类型");for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e],o=h(t[r]),i=r.slice(r.indexOf(":")+1);this.$prop[i]="Object"===o||"Array"===o?w(t[r]):t[r]}d(this.$prop)}},{key:"init$Data",value:function(){for(var t=Object.getPrototypeOf(this),e=t.$data,n=t.$prop,r=0,o=Object.keys(this);r<o.length;r++){var i=o[r];if(n.hasOwnProperty(i))throw new Error("属性 `".concat(i,"` 不能跟 prop 的属性重复"));var a=h(this[i]);e[i]="Object"===a||"Array"===a?w(this[i]):this[i]}d(e)}},{key:"init$propMap",value:function(t){for(var e=Object.getPrototypeOf(this).$propMap,n=0,r=Object.keys(t);n<r.length;n++){var o=r[n],i=o.indexOf(":")+1,a=void 0;i>0?(a=o.slice(i),o.slice(0,i-1)):a=o,a=o.trim(),e[o.trim()]=a}}},{key:"init$event",value:function(){var t=this;this.$eventList&&this.$eventList.forEach((function(e){var n=e.selector,r=e.event,o=e.childSelector,i=e.data,a=e.fn;$(n).on(r,o,i,a.bind(t))}))}},{key:"init$Expose",value:function(){var t=this;this.$exposeList&&this.$exposeList.forEach((function(e){window[e]=t[e].bind(t)}))}},{key:"init$on",value:function(){var t=this;this.$onList&&this.$onList.forEach((function(e){var n=e.event,r=e.fn;J.subscribe(n,r.bind(t))}))}},{key:"$compile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$el,e=$(t);return this._initDirective({$el:e,isCompile:!0}),e}},{key:"update$Prop",value:function(t){var e=t.key,n=t.firstKey,r=t.value,o=t.target;if(this.$prop.hasOwnProperty(n))if(o instanceof Array){var i=w(o);!this.$proxyCenter.isNativeProxy&&(this[n].length=i.length);for(var a=0;a<i.length;a++)this[n][a]=i[a];this.$proxyCenter.isNativeProxy&&(this[n].length=i.length)}else!function(t,e,n){for(var r=e.split(".");r.length>1;)t=t[r.shift()];t&&(t[r[0]]=n)}(this,e,r)}},{key:"$mount",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.type,i=void 0===o?"append":o,a=r.name,c=void 0===a?"":a;Object.getPrototypeOf(this).$parent=t,c&&(t.$children[c]=this),t.$proxyCenter.addChildenObserver((function(t){var e,r=t.key,o=t.value,i=t.target,a=r.split(".")[0];if(n.$propMap[r])e=r,n.update$Prop({key:e,firstKey:a,value:o,target:i});else{var c,u=Object.keys(n.$propMap).filter((function(t){return t.split(":")[0].trim()===a})),s=R(u);try{for(s.s();!(c=s.n()).done;){var f=c.value;if(-1!==u.indexOf(":")){var l=f.split(":");l[1]&&(e=r.replace(new RegExp("^".concat(a)),l[1]),a=e.split(".")[0],n.update$Prop({key:e,firstKey:a,value:o,target:i}))}else e=r,n.update$Prop({key:e,firstKey:a,value:o,target:i})}}catch(t){s.e(t)}finally{s.f()}}})),"replace"===i?$(e).replaceWith(this.$el):$(e).append(this.$el)}},{key:"$on",value:function(t,e){J.subscribe(t,e.bind(this))}},{key:"$emit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;J.publish(t,e)}}])&&q(e.prototype,n),t}();function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({EasyPage:W},r)}]).default}));
//# sourceMappingURL=index.js.map